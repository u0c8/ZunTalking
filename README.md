# ZunTalking
個人制作ソフト「ずんとーきん！」のパブリックリポジトリです。

「ずんとーきん！」は東北ずん子・ずんだもんプロジェクトの二次創作です。私が個人で勝手にやってる二次創作です。  
このソフトの利用に伴い作成者はいかなる責任も負うことはありません。自己責任で利用してください。  
リバースエンジニアリングも禁止です。

このソフトに合成音声機能はありません。A.I.VOICEなどエディターが別途必要です。  
このソフトを利用する場合、A.I.VOICE、VOICEVOX、COEIROINK、AquesTalkPlayerのいずれかの導入を推奨します。

VOICEVOX、COEIROINKはGPU版だとレスポンスが早くていい感じです。
合成速度はAquesTalk、A.I.VOICE、VOICEVOX、COEIROINKの順で早いので一番快適なチャットができるのはAquesTalkPlayerです。

[A.I.VOICE公式サイト](https://aivoice.jp/)
[VOICEVOX公式サイト](https://voicevox.hiroshiba.jp/)
[COEIROINK公式サイト](https://coeiroink.com/)
[AquesTalkPlayer公式サイト](https://www.a-quest.com/products/aquestalkplayer.html)

# 概要
ずんだもんを始めとする音声合成キャラクターやあなたが自分で定義したキャラクターとOpenAI GPTを使っておしゃべりできます。  
※ずんだもんは東北ずん子・ずんだもんプロジェクトのキャラクターです。

# インストール
Leleaseからzipファイルを落として適当な場所に解凍してください。

# アンインストール
フォルダごと消してください。

# 使用方法
zuntalking.exeを実行したら長めの待ち時間の後チャット画面が開きます。テキストを入力して送信すると返答が返ってきます。  
合成音声を利用する場合は設定画面からパスの設定をしてから使用してください。

# チャット
メインの画面です。画面中央下にはチャットの入力欄、音声入力ボタン、履歴削除ボタンがあります。  
画面右下の矢印でアバターの切り替えができます。  
画面左上のメニューからアバターの再読み込みができます。再読み込みをすると現在の会話履歴は削除されます。  

# 天気
設定してある地名の天気が表示できる画面です。今日の天気しか表示できないおまけ機能です。

# 設定
左側のメニューから設定画面へ移行し、各種設定を行えます。

# アバター
左側のメニューのアバター画面からこのソフト独自の形式である.chr拡張子を用いたアバターファイルの作成・編集・読み込みができます。
アバター作成後は「有効化」タブから有効化しないとチャット画面で表示されません。

## アバター編集
編集できるのは以下の項目です。
- アバターの表示名
- アバターの性格
- アバターの立ち絵
- アバターのアイコン
- アバターのボイス
- アバターのボイス話者（speaker_id・プリセット名）
- アバターのボイスパラメータ

このうちボイス話者は設定方法が複雑です。  
VOICEVOX、COEIROINKではidを整数値で指定する必要があり、COEIROINKではさらにUUIDを設定する必要があります。

VOICEVOXのid一覧は同梱のファイルを参照してください。
COEIROINKではMYCOEの都合上、列挙が困難であるため参照方法を記載します。

「COEIROINK本体フォルダ/speaker_info」から対象のキャラのフォルダを探します。例えば、つくよみちゃんは「speaker_info/3c37646f-3881-5374-2a83-149267990abc」です。
フォルダ内のmetas.jsonをテキストエディタで開きます。
![image](https://github.com/u0c8/ZunTalking/assets/116042485/cfb032d9-19fe-437a-abf1-7e0ea3e711e8)

記載されているstyleIdがspeaker_idです。speakerUuidがUUIDになります。適切に設定するとしゃべってくれるようになります。

A.I.VOICE、AquesTalkPlayerではプリセット名を指定するだけで喋ってくれます。プリセットはユーザが作成したものでも認識するので好きなプリセットを指定するのが良いと思います。

## アバター追加
アバターファイルをワンタッチで作成できます。ファイル名を後から変えると整合性の問題が起きるのでなるべく変えないでください。

## アバター削除
アバターファイルを削除できます。デフォルトで同梱されている「ユーザ(user.chr)」はチャット画面のユーザ側のアバターを定義しているので消さないでください。  
また、消す際は「有効化」画面からアバターを無効化してから削除してください。  
面倒なのは自覚してるのでそのうち仕様変更します。

## アバター有効化
アバターを追加した後や、削除する前はここで有効化・無効化を切り替える必要があります。無効化したアバターは読み込まれなくなります。

# 自分のOpenAI APIキーを使う
config/openai.txtを作成し、APIキーを貼り付けることで張り付けられたAPIキーを使用するようになります。APIは使うほど料金がかかって作者の懐が痛いのでできればこの方法を使って自分のAPIキーで遊んでみてください。  
[OpenAI API公式サイト](https://openai.com/blog/openai-api)

さらに、自分のAPIキーを使用しているときは呼び出すGPTモデルを変更できます。config/setting.iniからgptmodelの項目を見つけ、「gptmodel = gpt-4」に書き換えることでgpt-4でAPI呼び出しができます。

# ライセンス
同梱のreadmeに表記してあります。抜けがあったら修正します。

# その他
現在鋭意制作中
詳しくは作者のX:@yurei_t まで
